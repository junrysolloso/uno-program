function showSuccessResponse(e){switch($(".swal-modal").css("width","400px"),$(".swal-modal").css("padding","10px 40px 30px 40px"),e.status){case"success":showSuccessSwal(e.message);break;case"exist":showWarningSwal(e.message);break;case"error":case"file":showErrorSwal(e.message);break;default:swal.close(),console.log(e)}}function webcam_set(){Webcam.set({width:320,height:240,image_format:"jpeg",jpeg_quality:90,unfreeze_snap:!1})}function uno_loader(){swal({dangerMode:!1,buttons:!1,closeOnClickOutside:!1}),$(".swal-modal").html('<div class="square-box-loader"><div class="square-box-loader-container"><div class="square-box-loader-corner-top"></div><div class="square-box-loader-corner-bottom"></div></div><div class="square-box-loader-square"></div></div>'),$(".swal-modal").css("width","130px"),$(".swal-modal").css("padding","60px 40px")}function init_webcam_js(){var e=!1;webcam_set(),$("body").on("click","#camera_btn__init",function(){e?Webcam.snap(function(a){var n=a.replace(/^data\:image\/\w+\;base64\,/,"");swal({title:"Preview",dangerMode:!1,closeOnClickOutside:!1}),$(".swal-modal").html('<img src="'+a+'" width="500" style="border-radius: 6px;" /><div class="swal-footer"><div class="swal-button-container"><button class="swal-button swal-button--cancel">Capture again</button></div><div class="swal-button-container"><button class="swal-button swal-button--confirm">Use this photo</button></div></div>'),$(".swal-modal").css("width","580px"),$(".swal-modal").css("padding","40px 40px 25px"),$("body").on("click",".swal-button--confirm",function(){$("#uno_beneficiary_photo_id").val(n),$("#camera_btn__init").html('<i class="icon-camera"></i> Open Camera'),swal.close(),Webcam.reset(),e=!1}),$("body").on("click",".swal-button--cancel",function(){swal.close()})}):(Webcam.attach("#camera_container__view"),$(this).html('<i class="icon-frame"></i> Capture'),e=!0)})}function init_jsignature(){$("#signature__pad").jSignature({"decor-color":"transparent"}),$("body").on("click","#signature__reset",function(){$("#signature__pad").jSignature("reset")}),$("body").on("change","#signature__pad",function(){var e=$(this).jSignature("getData","base30");e&&$("#uno_beneficiary_signature_id").val(e)})}const strToCapital=(e,a=!1)=>(a?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,e=>e.toUpperCase()),trimWhitespace=e=>e.replace(/\s/g,""),base_url=$("input#base_url").val(),ajax_url=$("input#ajax_url").val(),search_url=$("input#base_url").val()+"beneficiary/search/";var ajaxOptions={dataType:"json",beforeSend:uno_loader,success:showSuccessResponse,error:function(e){console.log(e.responseText)}},validateOptions={errorElement:"div",errorClass:"text-danger notice",errorPlacement:function(e,a){e.appendTo(a.next(".input-helper")),a.next(".input-helper").show()},submitHandler:function(e){$(".true_false").each(function(){$(this).prop("checked")&&($(this).parent().prev().disabled=!0)}),$(e).ajaxSubmit(ajaxOptions)}};showWarningSwal=function(e){"use strict";swal({title:"Warning",text:e,icon:"warning",dangerMode:!1,closeOnClickOutside:!1})},showSuccessSwal=function(e){"use strict";swal({title:"Success",text:e,icon:"success",dangerMode:!1,closeOnClickOutside:!1}).then(e=>{e&&location.reload()})},showErrorSwal=function(e){"use strict";swal({title:"Error",text:e,icon:"error",dangerMode:!0,closeOnClickOutside:!1})},showInfoSwal=function(e,a){"use strict";swal({title:"Message",text:e,icon:"info",dangerMode:!1,buttons:a,closeOnClickOutside:!1})},init_jsignature();const sign=$('input[name="uno_beneficiary_sign_data"]');if(sign.length&&sign.val().length>30){var data=sign.val();$("#signature__pad").jSignature("setData","data:"+data)}(function(e){function a(){e(".select2").select2({width:"100%"}),e(".select2").each(function(){var a=e(this).attr("data-value");a&&(e(this).val(a),e(this).trigger("change"))})}function n(){e(".iradio_flat, .icheckbox_flat").iCheck({checkboxClass:"iradio_flat-blue",radioClass:"icheckbox_flat-blue",increaseArea:"20%"})}function t(){e(".dataForm").validate(validateOptions)}function i(a){swal({title:"Warning",text:"This action cannot be reverted.",icon:"warning",buttons:{cancel:!0,confirm:{text:"Yes! Delete It",value:!0}},dangerMode:!0,closeOnClickOutside:!1}).then(e=>{e?a.ajaxSubmit(ajaxOptions):swal.close()}),e(".swal-modal").css("width","400px"),e(".swal-modal").css("padding","10px 40px 30px")}function o(){e(".lazy").Lazy({effect:"fadeIn",effectTime:1500,delay:2e3,visibleOnly:!0,scrollDirection:"vertical"})}function s(){lc_switch(m,{on_txt:"Yes",off_txt:"No",compact_mode:!1,on_color:"#0E3355"})}function r(){n(),a(),s(),t(),init_webcam_js(),init_jsignature(),p()}function c(a,n){var t=0;e("body").on("click","#"+a,function(){const a=e("#"+n);if(a.length){var i=a.clone();a.parent(".card-body").append(i),i.attr("id",n+"_"+t),e("#"+n+"_"+t+" thead tr .w-65").html('<a href="#" class="float-right text-danger remove_table_fields"><i class="icon-close"></i> Delete</a>'),t++}return!1})}function _(){e("body").on("click",".remove_table_fields",function(){return e(this).parent().parent().parent().parent().remove(),additional=0,!1})}function l(){e("body").on("click",".remove_table_fields_edit",function(){return e(this).parents(".card").remove(),!1})}function d(){var a,n;e("body").on("lcs-on",".true_false",function(){a=e(this).attr("id"),n=e(this).parent().parent().parent().parent().parent().parent().attr("id"),e(this).val("1"),b(a,n),h(a,"show")}),e("body").on("lcs-off",".true_false",function(){e(this).val("0"),a=e(this).attr("id"),h(a,"hide")})}function u(a,n){a&&e.ajax({type:"GET",dataType:"html",url:window.location.href,data:{form:a,uno_nonce:n},beforeSend:uno_loader,success:function(a){e("#form-container").html(a)},error:function(e){console.log(e)},complete:function(){swal.close(),r()}})}function f(a=!1){var n=["#table_name","#table_contact_details","#table_status_information","#table_birth_information","#table_different_address","#table_permanent_address"];n.forEach(function(n,t){a?e(n).eq(0).parent().parent().hide():e(n).eq(0).parent().parent().show()})}function p(){e("#uno_beneficiary_id_new_id").val(e("#uno_beneficiary_id").val())}function b(a,n){"table_status_information"!=n&&"table_beneficiary_status_information"!=n&&"table_gender_information"!=n&&"table_beneficiary_gender_information"!=n&&"table_parent_or_guardian_information"!=n&&"table_uno_trabaho_form"!=n&&"table_uno_iskolar_form"!=n&&"table_uno_ayuda_form"!=n&&"table_school_last_attended"!=n&&"table_school_intended_to_enroll"!=n||e("#"+n+" .true_false").each(function(){e(this).attr("id")!=a&&lcs_off(e(this))})}function h(a,n){var t=e("#"+a).attr("data-nonce");if("show"==n)switch(a){case"uno_beneficiary_aics_medical_option_id":case"uno_beneficiary_aics_food_option_id":case"uno_beneficiary_aics_transportation_option_id":case"uno_beneficiary_aics_burial_option_id":case"uno_beneficiary_aics_educational_option_id":case"uno_beneficiary_aics_cash_option_id":case"uno_beneficiary_aics_legal_option_id":case"uno_beneficiary_aics_non_food_option_id":case"uno_beneficiary_map_medical_option_id":case"uno_beneficiary_map_food_option_id":case"uno_beneficiary_map_transportation_option_id":case"uno_beneficiary_map_burial_option_id":case"uno_beneficiary_map_educational_option_id":case"uno_beneficiary_map_cash_option_id":case"uno_beneficiary_map_legal_option_id":case"uno_beneficiary_map_non_food_option_id":case"uno_beneficiary_health_hypertension_option_id":case"uno_beneficiary_health_diabetis_option_id":case"uno_beneficiary_health_mental_illness_option_id":case"uno_beneficiary_health_vitamins_option_id":case"uno_beneficiary_health_other_option_id":e("#"+a).parents("tbody").children("tr").show();break;case"uno_beneficiary_different_address_option_id":case"uno_beneficiary_aics_beneficiary_different_address_option_id":case"uno_beneficiary_map_beneficiary_different_address_option_id":case"uno_beneficiary_health_beneficiary_different_address_option_id":e("#"+a).parents(".table").next().show();break;case"uno_beneficiary_id_option_id":e("#uno_beneficiary_id_new_id").parents("tr").hide(),e("#uno_beneficiary_id_old_id").parents("tr").show(),f(!0);break;case"uno_trabaho_form_general_id":u("general",t);break;case"uno_trabaho_form_gip_id":u("gip",t);break;case"uno_trabaho_form_tupad_id":u("tupad",t);break;case"uno_iskolar_form_deped_id":u("deped",t);break;case"uno_iskolar_form_ched_id":u("ched",t);break;case"uno_iskolar_form_tesda_id":u("tesda",t);break;case"uno_ayuda_form_aics_id":u("aics",t);break;case"uno_ayuda_form_map_id":u("map",t)}else switch(a){case"uno_beneficiary_aics_medical_option_id":case"uno_beneficiary_aics_food_option_id":case"uno_beneficiary_aics_transportation_option_id":case"uno_beneficiary_aics_burial_option_id":case"uno_beneficiary_aics_educational_option_id":case"uno_beneficiary_aics_cash_option_id":case"uno_beneficiary_aics_legal_option_id":case"uno_beneficiary_aics_non_food_option_id":case"uno_beneficiary_map_medical_option_id":case"uno_beneficiary_map_food_option_id":case"uno_beneficiary_map_transportation_option_id":case"uno_beneficiary_map_burial_option_id":case"uno_beneficiary_map_educational_option_id":case"uno_beneficiary_map_cash_option_id":case"uno_beneficiary_map_legal_option_id":case"uno_beneficiary_map_non_food_option_id":case"uno_beneficiary_health_hypertension_option_id":case"uno_beneficiary_health_diabetis_option_id":case"uno_beneficiary_health_mental_illness_option_id":case"uno_beneficiary_health_vitamins_option_id":case"uno_beneficiary_health_other_option_id":e("#"+a).parents("tbody").children("tr:not(:first-child)").hide();break;case"uno_beneficiary_different_address_option_id":case"uno_beneficiary_aics_beneficiary_different_address_option_id":case"uno_beneficiary_map_beneficiary_different_address_option_id":case"uno_beneficiary_health_beneficiary_different_address_option_id":e("#"+a).parents(".table").next().hide();break;case"uno_beneficiary_id_option_id":e("#uno_beneficiary_id_new_id").parents("tr").show(),e("#uno_beneficiary_id_old_id").parents("tr").hide(),f(!1);break;case"uno_trabaho_form_general_id":case"uno_trabaho_form_gip_id":case"uno_trabaho_form_tupad_id":case"uno_iskolar_form_deped_id":case"uno_iskolar_form_ched_id":case"uno_iskolar_form_tesda_id":case"uno_ayuda_form_aics_id":case"uno_ayuda_form_map_id":e("#form-container").html("")}}e(":input").inputmask(),a(),e(".paginate_button").on("click",function(){e("body").on("submit",".deleteForm",function(a){a.preventDefault(),action_delete(e(this))})}),n(),t(),e(".deleteForm").on("submit",function(a){a.preventDefault(),i(e(this))}),e(".resetForm").on("submit",function(a){a.preventDefault(),i(e(this))}),e(".saveForm").on("submit",function(a){a.preventDefault(),i(e(this))}),o(),e(".file-upload-browse").on("click",function(){var a=e(this).parent().parent().find(".file-upload-default");a.trigger("click")}),e(".file-upload-default").on("change",function(a){e(this).parent().find(".form-control").val(e(this).val().replace(/C:\\fakepath\\/i,"")),e("."+e(this).attr("id")).attr("src",URL.createObjectURL(a.target.files[0]))}),e(".not-role").on("click",function(){swal({title:"Warning!",text:"Your account is not eligible to access this.",icon:"warning",dangerMode:!0,closeOnClickOutside:!1})});var m=".true_false";s(),e(".true_false").each(function(){"1"==e(this).val()&&lcs_toggle(e(this))}),r();var g="",y="";_(),l(),g="add_button_school",y="table_educational_attainment",c(g,y),g="add_button_member",y="table_household_members",c(g,y),g="add_button_document",y="table_document_information",c(g,y),d(),1==e("#uno_beneficiary_different_address_option_id").val()&&e("#uno_beneficiary_different_address_option_id").parents(".table").next().show(),e(".type-of-assistance .true_false").each(function(){1==e(this).val()&&e(this).parents("tbody").children("tr").show()}),e(".type-of-service .true_false").each(function(){1==e(this).val()&&e(this).parents("tbody").children("tr").show()}),p(),e("#search_field_top").on("keyup",function(){e(this).val().length>2?e.ajax({type:"GET",dataType:"html",url:search_url,data:{search:e(this).val(),uno_nonce:e("#search_nonce_top").val(),uno_check:e("#search_check_top").val()},success:function(a){a&&(e('input[name="search_field_top"]').css("border-bottom-left-radius","0px"),e('input[name="search_field_top"]').css("border-bottom-right-radius","0px"),e("#search_results_top").html(a),e("#search_results_top").slideDown("fast"))}}):(e('input[name="search_field_top"]').css("border-bottom-left-radius","6px"),e('input[name="search_field_top"]').css("border-bottom-right-radius","6px"),e("#search_results_top").fadeOut("fast"),e("#search_results_top").html(""))})})(jQuery),function(e){function a(a){e("body").on("click",function(){var e=document.getElementById(a);e.style.display="",e.style.left="",e.style.top="",e.innerHTML=""})}function n(e,a,n){var t=document.getElementById(a);t.style.display="block",t.style.left=e.pageX-10+"px",t.style.top=e.pageY-10+"px",t.innerHTML=n}var t={trabaho:"briefcase",iskolar:"graduation",ayuda:"share-alt",legal:"hourglass ",health:"heart",youth:"direction"};e(".table-with-contextmenu tbody tr").on("contextmenu",function(i){i.preventDefault();var o,s="",r=e(this).attr("data-uno"),c=(r=JSON.parse(r),r.c.split(","));if(s+='<a href="'+base_url+"/beneficiary/?uno_id="+r.i+"&uno_nonce="+r.n+'&uno_cat=general" class="dropdown-item text-uno"><i class="icon-eye mr-2"></i>General Profile</a>',r.c)for(let e=0;e<c.length;e++){switch(c[e]){case"general":case"gip":case"tupad":o=t.trabaho;break;case"deped":case"ched":case"tesda":o=t.iskolar;break;case"aics":case"map":o=t.ayuda;break;case"legal":o=t.legal;break;case"health":o=t.health;break;case"youth":o=t.youth;break;default:o="note"}s+='<a href="'+base_url+"/beneficiary/edit/?uno_id="+r.i+"&uno_nonce="+r.n+"&uno_cat="+c[e]+'" class="dropdown-item text-uno"><i class="icon-'+o+' mr-2"></i>'+c[e].toUpperCase()+"</a>"}n(i,"context-menu--container",s),a("context-menu--container")})}(jQuery),function(e){e(function(){e(".sidebar").length&&e("#sidebar >.nav > li:not(.not-navigation-link) a").each(function(){if(!e("#sidebar").hasClass("dynamic-active-class-disabled")){var a=e(location).attr("href");e(this).attr("href")==a&&(e(this).parents(".nav-item").last().addClass("active"),e(this).parents(".sub-menu").length&&e(this).addClass("active"),e(this).parents(".nav-item").last().find(".nav-link").attr("aria-expanded","true"),e(this).parents(".sub-menu").length&&e(this).closest(".collapse").addClass("show"))}})}),e(function(){e('[data-toggle="offcanvas"]').on("click",function(){e(".sidebar-offcanvas").toggleClass("active")})}),e(document).on("mouseenter mouseleave",".sidebar .nav-item",function(a){var n=e("body"),t=n.hasClass("sidebar-icon-only"),i=n.hasClass("horizontal-menu"),o=n.hasClass("sidebar-fixed"),s=e(this);"ontouchstart"in document.documentElement?(t||i)&&("mouseenter"===a.type?s.addClass("hover-open"):s.removeClass("hover-open")):(t||i)&&(o?"mouseenter"===a.type&&n.removeClass("sidebar-icon-only"):"mouseenter"===a.type?s.addClass("hover-open"):s.removeClass("hover-open"))}),e(".navbar.horizontal-layout .navbar-menu-wrapper .navbar-toggler").on("click",function(){e(".navbar.horizontal-layout").toggleClass("header-toggled")}),e(function(){function a(){if(!n.hasClass("rtl")){if(e(".settings-panel .tab-content .tab-pane.scroll-wrapper").length){new PerfectScrollbar(".settings-panel .tab-content .tab-pane.scroll-wrapper")}if(e(".chats").length){new PerfectScrollbar(".chats")}if(e(".scroll-container").length){new PerfectScrollbar(".scroll-container")}if(n.hasClass("sidebar-fixed"))new PerfectScrollbar("#sidebar .nav");if(e(".ps-enabled").length){new PerfectScrollbar(".ps-enabled")}}}var n=e("body");e("#sidebar > .nav > .nav-item > a[data-toggle='collapse']").on("click",function(){e("#sidebar > .nav > .nav-item").find(".collapse.show").collapse("hide")}),a(),e('[data-toggle="minimize"]').on("click",function(){n.hasClass("sidebar-toggle-display")||n.hasClass("sidebar-absolute")?n.toggleClass("sidebar-hidden"):n.toggleClass("sidebar-icon-only")})}),e('[data-toggle="tooltip"]').tooltip(),e(".sidebar .sidebar-inner > .nav > .nav-item").not(".brand-logo").attr("toggle-status","closed"),e(".sidebar .sidebar-inner > .nav > .nav-item").on("click",function(){e(".sidebar .sidebar-inner > .nav > .nav-item").removeClass("active"),e(this).addClass("active"),e(".sidebar .sidebar-inner > .nav > .nav-item").find(".submenu").removeClass("open"),e(".sidebar .sidebar-inner > .nav > .nav-item").not(this).attr("toggle-status","closed");var a=e(this).attr("toggle-status");"closed"==a?(e(this).find(".submenu").addClass("open"),e(this).attr("toggle-status","open")):(e(this).find(".submenu").removeClass("open"),e(this).not(".brand-logo").attr("toggle-status","closed"))})}(jQuery);